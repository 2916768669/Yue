# 一些东西

## 注解

### @RequestMapping

https://blog.csdn.net/weixin_44741023/article/details/119808641

#### value

@RequestMapping(value = {"/other", "/other2", "/other3"})

那么访问other、other2、other3这三个servlet都可以导向此页面。

#### method

如果不设置method属性，那么无论是GET还是POST都可以打开我们的servlet。

#### params

params属性通过请求的请求参数匹配请求映射。params属性也是一个字符串类型的**数组**，可以通过以下四种表达式设置请求参数和请求映射的匹配关系：
1、“param”：表示要求请求映射所匹配的请求必须携带param请求参数
2、“!param”：表示要求请求映射所匹配的请求不能携带param请求参数
3、“param=value”：表示要求请求映射所匹配的请求必须携带param请求参数且param=value
4、“param!=value”：表示要求请求映射所匹配的请求必须携带param请求参数且param!=value

#### headers

headers属性通过请求的请求头信息匹配请求映射。他也是一个字符串类型的数组，可以通过以下四种表达式设置请求头信息和请求映射的匹配关系：
1、“[header](https://so.csdn.net/so/search?q=header&spm=1001.2101.3001.7020)”：表示请求映射所匹配的请求必须携带header请求头信息
2、“!header”：表示请求映射所匹配的请求必须携带header请求头信息
3、“header=value”：表示请求映射所匹配的请求必须携带header请求头信息，且请求头信息header = value
4、“header!=value”：表示请求映射所匹配的请求必须携带header请求头信息，且请求头信息header != value

#### {xxx}传参

@RequestMapping注解的value属性中通过占位符 **{xxx}** 表示传输的数据，在通过@PathVariable注解，将占位符所表示的数据赋值给控制器方法的形参。

1、首先是在@RequestMapping中用 {what} 占位
2、然后在方法的参数中用 `@PathVariable("what") 什么类型 变量名` 来拿这个参数。

### @RequestBody

https://blog.csdn.net/justry_deng/article/details/80972817

​	如果参数时放在请求体中，application/json传入后台的话，那么后台要用@RequestBody才能接收到；
​    如果不是放在请求体中的话，那么后台接收前台传过来的参数时，要用@RequestParam来接收，或者形参前什么也不写也能接收。

# 执行过程

## 概括

1. controller接收前端发送的请求，调用service
2. service调用dao
3. dao调用对应的xml

## Admin

### AdminManageUser

#### login

1. controller从前台接收到一个AdminLoginParam类型的数据，里面有用户名和密码。

2. service得到请求登录的AdminUser。

   修改此管理员的token，成功后向controller返回token，失败返回错误信息。

3. 如果controller接收到的是token则生成一个成功的result，否则生成一个失败的result，并将result返回

### MallBookInfo

